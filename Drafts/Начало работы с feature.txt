Shenja Sosna @pumbaEO 09:27
@realMaxA какую задачу от пользователя хочешь реализовать?

MaxA @realMaxA 09:27
предоставление актуальных сроков поставки товаров
Есть потребность. Она превращается в заказы поставщикам. В процессе, сроки поставки могут меняться. Нужно обеспечить их актуализацию и трансляцию потребителю

Shenja Sosna @pumbaEO 09:29
Ок, поступла задача "предоставление актуальных сроков поставки товаров", а папе features создаем файл с наименованием (например "АктуализацияСроковПоставки.feature)
Открываем редактором этот файл и пишем вначале:
`
encoding: utf-8
language: ru
`

MaxA @realMaxA 09:32
Скопировал первый попавшийся готовый )

Shenja Sosna @pumbaEO 09:32
потом, определяем описание функционала:
Функционал: Предоставление актуальных сроков поставки товаров
''' Есть потребность. Она превращается в заказы поставщикам. В процессе, сроки поставки могут меняться. Нужно обеспечить их актуализацию и трансляцию потребителю'''

MaxA @realMaxA 09:33
А как же "Как/Я хочу/Чтобы"?

Fedor Latypov @freddy121 09:34
как я хочу чтобы это заработало))

Shenja Sosna @pumbaEO 09:34
как раз пишу. Теперь отвечаешь на вопрос "КАК кто?" (Разработчик? Менеджер по продажам, роботот, руководитель и т.д.) Хочу ..., Чтобы
Кто хочет у тебя предоставлять актуальную информацию?

Fedor Latypov @freddy121 09:36
@pumbaEO может лучше начать с того, кто хочет видеть актуальную?

MaxA @realMaxA 09:36
Как менеджер по продажам
Я хочу знать наиболее точные сроки поступления товара на склад
Чтобы Предоставить высокий уровень сервиса заказчику

Shenja Sosna @pumbaEO 09:37
@freddy121 у него сейчас шляпа программиста, а не аналитика.

MaxA @realMaxA 09:37
Я могу менять шляпы )

Fedor Latypov @freddy121 09:37
@pumbaEO он похоже переоделся

Shenja Sosna @pumbaEO 09:39
ок, теперь опиши произвольно, как ты предпологаешь, что должен будет сделать менеджер, чтобы "предоставить высокий уровень сервиса заказчику"?

MaxA @realMaxA 09:39
Стоп
Значит я хватанул слишком высоко

Alexey Lustin @allustin 09:40
нормальны ты хватанул

MaxA @realMaxA 09:40
А тут проблема

Alexey Lustin @allustin 09:40
только так системщик пишет

MaxA @realMaxA 09:40
Дело в том, что зона моей деятельности ограничивается закупками
Т. е. считаем, что компания занимается только закупками
Иначе я просто вскроюсь. Да и в местную политику лезть вообще желания нет никакого

Fedor Latypov @freddy121 09:42
значит @pumbaEO прав . > blockquote Кто хочет у тебя предоставлять актуальную информацию?

Alexey Lustin @allustin 09:42
Контекст:
  Дано существует пользователь с профилем групп доступа "менеджер по продажам" и логинм "вася"
   и существует отчет "Актуальные сроки доставки"
  и существует обработка рассылки клиентам отчетов

MaxA @realMaxA 09:42
а! щяс

Alexey Lustin @allustin 09:42
контекст не забываем
тогда станет все понятно
и первый Сценарий
 значит перед уходом запусти все тесты вручную

MaxA @realMaxA 09:43
кривовато:
 Как Директор по закупкам
Я хочу обеспечить информирование заказчика об актуальных сроках поступления товара
Чтобы Предоставить высокий уровень сервиса заказчику

Alexey Lustin @allustin 09:43
вы мне тут ерундой не занимайтесь - планировщик задач
отлично
походу не товара а заказа
есть у меня такое предположение
щас мы к СМС сервису придем

Shenja Sosna @pumbaEO 09:44
ок, т.е. мы теперь откладываем эту фичу в сторону. Ты же не будешь за директора писать во сколько менеджер по его мнению должен прийти на работу?

MaxA @realMaxA 09:45
Не буду

Alexey Lustin @allustin 09:45
@pumbaEO файл откладываем
то есть храним как черновик

MaxA @realMaxA 09:45
"sms" уже есть в виде e-mail рассылок )

Fedor Latypov @freddy121 09:45
Предоставить высокий уровень сервиса заказчику это не ключевое действие. это цель

Alexey Lustin @allustin 09:45
@freddy121 конечно... погоди

Fedor Latypov @freddy121 09:45
ее декомпозировать надо

Shenja Sosna @pumbaEO 09:45
Ну да, задача абстрактная же.

Fedor Latypov @freddy121 09:45
молчу

Alexey Lustin @allustin 09:46
@realMaxA - не выкидывай плохие фичи - скалдывай их в каталоге feature\Drafts
пусть лежат

MaxA @realMaxA 09:46
а чтобы что здесь может быть?

Shenja Sosna @pumbaEO 09:47
Теперь опять одеваем шляпу программера и идем от обратного.
Что ты будешь делать, что-бы решить вот эту абстрактную задачу?
У тебя же уже есть представление, как и что будешь делать (когда-нибдуь потом назовем это архитектурным решением).

MaxA @realMaxA 09:49
Как Менеджер по закупкам
Я хочу Иметь возможность фиксировать актуальные сроки поставки заказа
Чтобы Обеспечить информирование заказчика об актуальных сроках поступления товара
архитектура уже "проработана"
Осталось только взять и сделать
s[товара][заказа]

Fedor Latypov @freddy121 09:51
контекст забыл
что дано?

MaxA @realMaxA 09:51
как понимать?

Shenja Sosna @pumbaEO 09:51
Ну так и пиши архитектуру, как будешь делать.

Fedor Latypov @freddy121 09:51
Контекст:
  Дано существует пользователь с профилем групп доступа "менеджер по продажам" и логинм "вася"
   и существует отчет "Актуальные сроки доставки"
  и существует обработка рассылки клиентам отчетов

Shenja Sosna @pumbaEO 09:52
Добавишь кнопку на форму арм, добавить регистр, создать фоновую задачу, что тебе необходимо для решения задачи?

Alexey Lustin @allustin 09:55
@realMaxA а ты уверен что архитектура проработана... без обид, но я обычно в это не верю... скорее всего выяснятся сейчас тонкости
Давай попробуем определить Контекст вызова
что есть уже в системе для информирования

MaxA @realMaxA 09:56
Я же написал "проработана" :) Нет конечно. Только в общих чертах.
Концепт

Shenja Sosna @pumbaEO 09:57
Так господа @allustin и @freddy121 - вы насяльники, не мешайте программисту с программистом беседовать, а то один уводит в контекст менеджера (программеру пофиг на менеджера), другой в арх. решение...

Fedor Latypov @freddy121 09:57
Жакоб, нас унижают ....

Shenja Sosna @pumbaEO 09:57
Без обид, но дайте дойти уж до конкретной реализации, хоть одного шага.

MaxA @realMaxA 09:58
Есть задание для склада. Есть сроки прихода товара по этому заданию (актуализируются, письма рассылаются). Есть регистрация факта прихода товара по заданию. Письма рассылаются.

Fedor Latypov @freddy121 09:58
молчу. пошел в ball point game с командой играть ..

MaxA @realMaxA 09:59
Но задание появляется на последних этапах жизни реального заказа поставщику. Нужно расширить область контроля на всё время жизни заказа.

Shenja Sosna @pumbaEO 09:59
@realMaxA пиши что будешь дорабатывать, ты же должен мыслить конкретными объектами метаданных которые будешь изменять, я выше вроде упоминал "добавить кнопку туда, добавить примерно 2 константы, возможно регистру, еще вывести это в отчет " как-то так.

MaxA @realMaxA 10:00
Заказы создаются в другой системе. Равно как и потребность, из которой они появляются
Я не совсем понимаю
Это в контекст писать?

Shenja Sosna @pumbaEO 10:02
Нет это произвольно надо написать, это вообще к фиче не имеет отношения - я просто прошу написать примерно как ты себе представляешь реализацию.

MaxA @realMaxA 10:02
Контекст:
Дано: Есть АРМ по закупкам и пользователь с профилем групп доступа "Управление закупками" и логином "Вася"
И на вкладке "Заказы" енсть заказ с номером "123"
И заказу не назначена схема поставки
ага

MaxA @realMaxA 10:07
есть таблица заказов (документы). Заказам нужно назначить схему поставки (упорядоченный список контрольных точек с относительными сроками их прохождения). Схему поставки менять нельзя. Задача -- по мере прохождения реального заказа "через" контрольные точки человек должен указывать дату прохождения этой точки. Даты точек, которые ещё не были пройдены, должны пересчитываться в соответствии со сроками из схемы поставки. Даты точек могут меняться и в будущем (если поступила соответствующая информация). Фиксация изменений производится документом и записывается в регистр.
По факту проведения нового документа изменения дат осуществляется рассылка

Shenja Sosna @pumbaEO 10:10
Прекрасно, но только ты написал сейчас ответ на вопрос "что хочу? как бизнес аналитик", а мне надо получить от тебя ответ на вопрос "как я хочу чтобы это заработало? Что хочу добавить, что-бы то что нарисовал бизнес аналитик смогло заработать в этой базе", ответ как будто ты программист который будет это делать, без всяких новомодных TDD, BDD и т.д.

MaxA @realMaxA 10:10
Есть нюанс. Таблицы заказов, по сути, тоже нет. Она внешняя по отношению к данной системе. Её надо закачивать (актуализировать) в рамках этой задачи
Нужен справочник "Схемы поставки" с табличной частью "Контрольные точки". Нужен справочник "Виды контрольных точек". Нужен документ "Заказ поставщику" с табличной частью "Товары".
В таком духе?

Shenja Sosna @pumbaEO 10:14
Да, совершенно верно.
Но только я у тебя вроде должен быть уже документ "Заказ поставщику" с тч "Товары" - редко в какой конфигурации этого не будет...

MaxA @realMaxA 10:15
Есть нюанс. Таблицы заказов, по сути, тоже нет. Она внешняя по отношению к данной системе. Её надо закачивать (актуализировать) в рамках этой задачи
Ты не поверишь ))
Тут окружение уникальное

Shenja Sosna @pumbaEO 10:15
Понятно.

MaxA @realMaxA 10:16
Мне продолжать?

Shenja Sosna @pumbaEO 10:17
да, у меня просто облака упали на землю, вот пытаюсь тебя научить писать feature файлы.

MaxA @realMaxA 10:22
Нужен документ "Изменение дат контрольных точек". Нужен регистр "Даты контрольных точек", нужен документ "Установка схемы поставки заказа"
На арм добавить кнопку "Установить схему поставки" для заказов, для которых не задана схема поставки

Shenja Sosna @pumbaEO 10:23
Ну вот, теперь можно приступать к написанию просто текста фичи.

MaxA @realMaxA 10:23
На арм добавить кнопку "Зафиксировать прохождение контрольной точки" для заказов, у которых установлена схема поставки
ок
Установка схемы поставки заказа.feature

Shenja Sosna @pumbaEO 10:25
off: Лучше без пробелов и ограничиваться 80 символами в наименовании файлов

MaxA @realMaxA 10:25
ок
Функционал: Предоставление актуальных сроков поставки товаров
Как Менеджер по закупкам
Я хочу Иметь возможность фиксировать актуальные сроки поставки заказа
Чтобы Обеспечить информирование заказчика об актуальных сроках поступления заказа
Контекст:
Дано: Есть АРМ по закупкам и пользователь с профилем групп доступа "Управление закупками" и логином "Вася"
И на вкладке "Заказы" енсть заказ с номером "123"
И заказу не назначена схема поставки
Сценарий: Установка схемы поставки заказа
Когда в АРМе по закупкам есть таблица заказов поставщику
И у заказа в текущей строке не указана схема поставки
И пользователь нажимает кнопку "Установить схему поставки"
Тогда пользователю предлагается выбрать схему поставки из справочника "Схемы поставки"
Трудность

Shenja Sosna @pumbaEO 10:30
Ну теперь пишем
Как Менеджер по закупкам 
Я хочу Иметь возможность фиксировать актуальные сроки поставки заказа 
Чтобы Обеспечить информирование заказчика об актуальных сроках поступления товара

Контекст:
  Дано существует пользователь с профилем групп доступа "менеджер по продажам" и логинм "вася"
   и существует арм "Супер арм для менеджера"

Сценарий: Фиксация прохождения контрольной точки
   Дано загружены из макета предварительно заказы поставщику
   И актуализированый данные из заказов из макета
   Когда нажимаю на кнопку "актуализировать"  
    И открывается форма "как она будет называться"
    Тогда при нажатии кнопки "моя кнопка акутаализации" в заказ актуализирован

Nikita Gryzlov @nixel2007 10:31
по-моему, вы разные задачи решаете)

Shenja Sosna @pumbaEO 10:33
@nixel2007 ну почему же, я ведь полностью не предсталяю себе ту конфигурацию и вариант решения.

MaxA @realMaxA 10:33
ПО моему получилось почти одинаково
Но трудность
Формы будет 2. Сначала выбрать схему поставки, и если она выбрана, тогда делать какие-то действия
стоп
В сценарии можно написать "Дано"

Shenja Sosna @pumbaEO 10:35
Значит у тебя появляется 2 сценария, один проверяет схему поставку пустую, второй если схема поставки не пустая.

MaxA @realMaxA 10:38
Сценарий: Установка схемы поставки заказа
Дано в АРМе по закупкам есть таблица заказов поставщику
И у заказа в текущей строке не указана схема поставки
И в АРМе есть кнопка "Установить схему поставки"
Когда пользователь нажимает кнопку "Установить схему поставки"
И открывается форма выбора элемента спарвочника "Схемы поставки"
Тогда при выборе схемы поставки создаётся документ "Установка схемы поставки заказа"
Не, всё нормально
Когда есть "Дано" в сценарии, можно обойтись одним

Shenja Sosna @pumbaEO 10:40
Для начала сойдет, потом когда к этому варианту еще появятся доработки, тогда можешь разбить по сценариям. Сейчас твой сценарий может быть хрупким но это не сильно важно, главное он уже есть.

MaxA @realMaxA 10:41
Я понимаю. Я по другому её и не воспринимаю.

Nikita Gryzlov @nixel2007 10:41
Тогда при выборе схемы поставки создаётся документ "Установка схемы поставки заказа"
вот это тянет на еще один сценарий.
или это не интерактивное действие? документ кодом создается?

Shenja Sosna @pumbaEO 10:41
Теперь сравни с чем ты пришел "предоставление актуальных сроков поставки товаров
Есть потребность. Она превращается в заказы поставщикам. В процессе, сроки поставки могут меняться. Нужно обеспечить их актуализацию и трансляцию потребителю" и что у тебя получилось.

MaxA @realMaxA 10:42
Кодом

Shenja Sosna @pumbaEO 10:42
При этом даже без какого-то либо кода, ты можешь сам ручками начать клацать реализацию и видеть отличия ожидаемого поведения от того что получилось.

MaxA @realMaxA 10:42
Какие выводы я должен сделать? )
От сравнения
Обычно, когда разрабатываешь, держишь в голове ожидаемое поведение и сравниваешь. Ценность этих сценариев при коллективной разработке, при тестировании и документировании, когда надо вспомнить, как же оно должно было работать.

Shenja Sosna @pumbaEO 10:46
Написание фичи заставляет тебя абстрактную задачу перевести в текст, а потом через "месяц, 2, 3, полгода" не морщить лоб вспоминая, а что тогда держал в голове.

MaxA @realMaxA 10:47
ага
Только мне всё ещё не понятно, что мне с этим сценарием делать дальше (кроме как сравнивать с ожидаемым поведением и радоваться, что у меня наконец-то хоть что-то хоть как-то документируется)
Хачем мне все эти vanessa-*
pfxtv
зачем

Shenja Sosna @pumbaEO 10:51
Затем, что-бы теперь это же реализовать в коде и запустить, что-бы оно само клацало по кнопкам, создавало зависимые документы, а ты в это время мыслил над новыми задачами.

MaxA @realMaxA 10:55
Вот сейчас я вполне чётко представляю, что и как нужно писать (.feature, пусть и плохо, но в общем виде понятно), но дальше -- туман. Как это "чтобы оно само клацало по кнопкам" вообще даже представления нет.
Понятно, что bdd-editor лишь инструмент, облегчающий создание .feature файлов и он не обязателен

Shenja Sosna @pumbaEO 10:57
Теперь тебе надо реализовать часть функционала.

MaxA @realMaxA 10:58
ух
Обождите недельку )
Хотя... рыбу какую-нить накатать вполне можно

Nikita Gryzlov @nixel2007 11:00
обождите с серверами сборок на эту недельку.

Shenja Sosna @pumbaEO 11:00
Ведь это ты сейчас так себе представляешь, когда начнешь реализовывать, то у тебя возможно концепция измениться, тогда твоя задача не забыть это отметить в фича файле.

Nikita Gryzlov @nixel2007 11:00
гит + фичи + VB - это уже с головой хватит на первые пару дней.
следующий шаг - полуавтоматизированный запуск (по крону или виндовому шедулеру)
а только потом уже сервер сборок
Ведь это ты сейчас так себе представляешь, когда начнешь реализовывать, то у тебя возможно концепция измениться, тогда твоя задача не забыть это отметить в фича файле.
проверки поведения тогда упадут. тяжело будет забыть 

MaxA @realMaxA 11:02
Какой гит? Какой VB? Я до сих пор не понимаю, зачем они мне и как их использовать. Вот .feature файлы создавать теперь могу. Отлично. Только обошёлся вполне без гита и VB

Shenja Sosna @pumbaEO 11:02
VB - vanessa-behavior

MaxA @realMaxA 11:03
я понял
я о нём же

Nikita Gryzlov @nixel2007 11:03
гит - хранилище feature-файлов и исходников конфигурации/обработок

MaxA @realMaxA 11:03
А зачем он мне?

Nikita Gryzlov @nixel2007 11:03
для истории и аудита

MaxA @realMaxA 11:04
Ок. Принимается. История это ценно.

Nikita Gryzlov @nixel2007 11:04
гит-сервер - для баг-трекинга, код-ревью и интерфейсных плюшек

MaxA @realMaxA 11:05
эм... не понимаю. Чем гит-сервер отличается от обычного гита?
Или речь о чём-то вроде github?

Nikita Gryzlov @nixel2007 11:05
VB - для того, чтобы:
1) использовать кнопконажималку, чтобы генерировать интерфейсные проверки поведения без кода
2) генерировать внешние обработки, в которых будут зашиты реализации проверок поведения для не-библиотечных шагов сценария
да, гитхаб, гогс, гитлаб и т.д.

Shenja Sosna @pumbaEO 11:05
вот тут хотелось бы вспомнить красную шапочку и волка "а зачем нужен сервер git - это для того что-бы ты мог дома работать"